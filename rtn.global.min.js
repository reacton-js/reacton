/**
* Reacton v4.0.12
* (c) 2022-2024 | github.com/reacton-js
* Released under the MIT License.
**/
var Rtn=function(){"use strict";const D=/\.\w+$/,F=/[A-Z]/g,H=/:(\w+)/g,z=/{{([^{}]*?)}}/,R=/('|"|`)[^]*?\1/g,q=/;|\bof\b|\bin\b/,V=/\b[A-Za-z_]\w*?\b/g,c=new WeakMap,Y=(new DOMParser).parseFromString("","text/html"),Z="window,location,history,document,navigation,screen,arguments",I="$host,$shadow,$data,$state,$event,$router,$,$$,$entities",w=e=>e.replace(R,"").split(q)[0].match(V).join(),n=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/"/g,"&quot;"],[/'/g,"&#39;"]];const s=["push","pop","shift","unshift","splice","sort","reverse","toString","add","set","delete","clear"].reduce((e,t)=>(e[t]=!0,e),{}),J=Object.getPrototypeOf(async function(){}).constructor,U=(e,t)=>(0<t?"-":"")+e,u=new DocumentFragment,h=new Set,r=Symbol(),$=Symbol(),d=Symbol(),o=Symbol(),N=Symbol(),S=Symbol(),x=Symbol(),e=Symbol(),i=Symbol(),l=Symbol(),E=Symbol(),p=Symbol(),L=Symbol(),A=Symbol(),t=Symbol(),a=Symbol(),f=Symbol(),m=Symbol(),v=Symbol(),T=Symbol();class _{constructor(e){this[o]=e}get(e,t){return this[o][t]}set(e,t,n){return this[o][t]=n,!0}}const B={get:(e,t)=>e[t],set:(e,t,n)=>(e[t]=n,!0)},G={childList:!0,subtree:!0};async function b(...e){for(let a of e){if(a instanceof HTMLTemplateElement){const d=a.content;var t=[...d.querySelectorAll("script")].map(e=>d.removeChild(e).innerHTML).join(""),t=await(t?new J(t)():null);if("function"!=typeof t){console.error(`Error: return value "${t}" is not a class`);continue}t.template=a.innerHTML,a=t}else if("function"!=typeof a){console.error(`Error: argument "${a}" is not a class or <template> element`);continue}t=a.name.replace(F,U).toLocaleLowerCase();const s=a.mode&&a.mode.toLocaleLowerCase();var n=a.extends&&a.extends.toLocaleLowerCase();const r=!!a.hasOwnProperty("serializable")&&a.serializable;var o=n?Object.getPrototypeOf(document.createElement(n)).constructor:HTMLElement;const i=a.alias,l=a.time;customElements.define(t,class extends o{constructor(){super(),h.add(this);var e=new a;const n=s?this.attachShadow({mode:s,serializable:r}):this;var t=(new DOMParser).parseFromString("","text/html").body,t={funs:new WeakMap,evns:new WeakMap,deps:new WeakMap,obrs:new WeakMap,bools:new WeakMap,exec:null,nodes:[],target:e,root:n,body:t,time:l,mode:s};c.set(this,t);const o=new Proxy(W(e,t),{get:(e,t)=>t===f?n:t===p?i:"$state"===t?o:(t in e?e:this)[t]});Object.defineProperties(this,{$host:{value:this},$shadow:{value:this.shadowRoot},$data:{value:this.dataset},$state:{value:"closed"!==s?new Proxy(o,B):void 0},[T]:{value:n===this}}),t.state=o}async connectedCallback(){let e=c.get(this),{funs:o,evns:s,bools:r,root:t,body:n,state:i,mode:l}=e;this[A]&&(Object.defineProperty(this,"$props",{value:"closed"!==l?this[A]:void 0}),delete this[A]),"function"==typeof a.startConnect&&await a.startConnect.call(i),"string"==typeof a.template&&(n.innerHTML=a.template,M(e,n),t.append(...n.childNodes),new MutationObserver(e=>{let t,n;for(t of e)for(n of t.removedNodes)g(n,o,s,r)}).observe(t,G)),"function"==typeof a.connected&&a.connected.call(i),setTimeout(()=>{h.delete(this),0===h.size&&u.dispatchEvent(new CustomEvent("load"))},1)}disconnectedCallback(){"function"==typeof a.disconnected&&a.disconnected.call(c.get(this).state)}adoptedCallback(){"function"==typeof a.adopted&&a.adopted.call(c.get(this).state)}attributeChangedCallback(e,t,n){"function"==typeof a.changed&&null!==t&&a.changed.call(c.get(this).state,e,t,n)}static get observedAttributes(){if(Array.isArray(a.attributes))return a.attributes}get $event(){return b.event}get $router(){return b.router}get[m](){return!0}$(e){return(this[f]||this.$shadow||this).querySelector(e)}$$(e){return(this[f]||this.$shadow||this).querySelectorAll(e)}$entities(...e){return b.entities(...e)}},n?{extends:n}:null)}}const M=(s,r,i)=>{if(8===r.nodeType)return r.remove();if(3===r.nodeType){var o=z.exec(r.data);o&&(0===o.index?(r.splitText(o[0].length),{state:t,funs:l,exec:a,nodes:d}=s,a=a?a.call(t,o[1].trim()):P(t,o[1].trim()),i?(r[e]=a,r.data=""):(l.set(r,a),d.push(r),r.data=a(),d.pop())):r.splitText(o.index))}else{if(2===r.nodeType){var{state:t,funs:l,evns:n,bools:a,exec:d,nodes:o}=s,c=r.ownerElement,u=r.nodeName.slice(1);if("$for"===r.nodeName){var h=r.value.trim(),p=i?i+(","+w(h)):w(h),f=K(t,h,d),h=s.exec;s.exec=f.next().value;let e=0;for(;e<c.childNodes.length;e++)M(s,c.childNodes[e],p)||e--;s.exec=h;var m=new DocumentFragment,h=(m.append(...c.childNodes),{iter:f,frag:m,wrap:{childNodes:[]},len:m.childNodes.length});if(i)c[N]=h;else{for(l.set(c,h),o.push(c);!f.next().value;)c.append(O(n,m.cloneNode(!0),m));o.pop()}}else if("@"===r.nodeName[0]){var h=u.split("."),v=h.slice(1).reduce((e,t)=>(e[t]=!0,e),{});if(i){var b=`() => ((${i}) => event => ${r.value.trim()})(${i})`,b=d.call(t,b,!0);let e=c[E];e||(e=new Set,c[E]=e),e.add({name:h[0],cb:b,props:v})}else c.addEventListener(h[0],P(t,r.value.trim()),v)}else{b=i?d.call(t,r.value.trim()):P(t,r.value.trim());if("$view"===r.nodeName){let n;if(c.childNodes.length&&(n=new DocumentFragment).append(...c.childNodes),!i){c.removeAttribute("$view");var h=n?{service:s,childs:n}:{},v=(l.set(h,b),o.push(h),b()),d=document.createElement("template"),g=(d.innerHTML=`<${v}></${v}>`,d.content.firstChild);h[$]=g,n&&g.append(n.cloneNode(!0)),c[A]&&(g[A]=c[A]);let e=0,t=c.attributes;for(;e<t.length;e++)g.setAttributeNode(c.removeAttributeNode(t[e])),e--;return M(s,g,i),c.replaceWith(g),o.pop()}c[x]=n?{cb:b,service:s,childs:n}:{cb:b}}else if(":"===r.nodeName[0])if("boolean"==typeof c[u]){let e,t;i?(t={name:u,cb:b},(e=c[L])||(e=new Set,c[L]=e)):(t={[S]:c,name:u},l.set(t,b),(e=a.get(c))||(e=new Set,a.set(c,e)),o.push(t),b()&&(c[u]=!0),o.pop()),e.add(t)}else{c.setAttribute(u,"");t=c.attributes[u];i?(t[e]=b,t.value=""):(l.set(t,b),o.push(t),t.value=b(),o.pop())}}return c.removeAttribute(r.nodeName)}if(r.attributes&&r.attributes.length){let e,t=r.attributes;if(t.$props){if("closed"!==s.mode){var v=t.$props,y=s.state;if(v.value){let e,t={},n=v.value.split(",");for(e of n)e=e.trim(),t[e]=y[e];r[A]=new Proxy(t,new _(y))}else r[A]=y}r.removeAttribute("$props")}if(t.$view)return r.removeAttribute("$for"),M(s,t.$view,i);t.$for&&(e=!0);let n=0,o;for(;n<t.length;n++)":"!==(o=t[n].name[0])&&"@"!==o&&"$"!==o||M(s,t[n],i)||n--;if(e)return r}if(!r[T]){let e=0,t=r.childNodes;for(;e<t.length;e++)M(s,t[e],i)||e--}}return r},g=(t,n,e,o)=>{if(n.delete(t),1===t.nodeType){var s=o.get(t);if(s){let e;for(e of s)n.delete(e);s.clear(),o.delete(t)}e.delete(t)}if(t.attributes){let e=0;for(;e<t.attributes.length;e++)g(t.attributes[e],n)}let r=0;for(;r<t.childNodes.length;r++)g(t.childNodes[r],n,e,o)},P=(t,n)=>"function"==typeof t[n]?e=>t[n].call(t,e):Function(Z,`const {${I}} = this${t[p]?`,${t[p]} = this
`:"\nwith ($host) with (this)"} return event => {'use strict'
return ${n}}`).call(t),y=e=>`(function*(){ yield function(){ return eval(arguments[1] ? arguments[0] : 'event => ' + arguments[0]) }
while (true){ for (var ${e}) yield; yield true }})`,K=(e,t,n)=>(n?n.call(e,y(t)):P(e,y(t)))().call(e),C=(t,n,e)=>{let o=0,{iter:s,frag:r,wrap:i,len:l}=e,a=n.childNodes;for(;!s.next().value;){if(a[o]){let e=0;for(;e<l;e++)i.childNodes[e]=a[e+o];O(t,i,r)}else n.append(O(t,r.cloneNode(!0),r));o+=l}if(o<a.length){let e=a.length;for(;e>o;e--)n.lastChild.remove()}i.childNodes.length=0},O=(n,o,s)=>{if(s[e])o.nodeValue=s[e]();else{if(s.attributes){let e=0,t=o.attributes;for(;e<s.attributes.length;e++)t[e]&&O(null,t[e],s.attributes[e]);if(s[L])for(var{name:r,cb:i}of s[L])o[r]=!!i();if(s[E]){let e;for(e of s[E]){var{name:l,cb:a,props:d}=e,a=a(),c=n.get(o);c&&o.removeEventListener(l,c,d),o.addEventListener(l,a,d),n.set(o,a)}}}if(s[x]){var u=document.createElement(s[x].cb());s[A]&&(u[A]=s[A]),!u[T]&&s[x].childs&&u.append(M(s[x].service,s[x].childs.cloneNode(!0)));let e=0,t=o.attributes;for(;e<t.length;e++)u.setAttributeNode(o.removeAttributeNode(t[e])),e--;o.replaceWith(u)}else if(s[N])C(n,o,s[N]);else{let e=0;for(;e<s.childNodes.length;e++)O(n,o.childNodes[e],s.childNodes[e])}}return o},k=(e,{funs:t,evns:n,nodes:o,time:s})=>{let r;s&&(r=performance.now());let i,l;for(i of e)if(l=t.get(i)){if(o&&o.push(i),1===i.nodeType)C(n,i,l);else if(i[$]){var a=i[$],d=a.attributes,c=document.createElement(l());i[$]=c,a.$props&&(c[A]=a.$props),!c[T]&&i.childs&&c.append(M(i.service,i.childs.cloneNode(!0)));let e=0;for(;e<d.length;e++)c.setAttributeNode(a.removeAttributeNode(d[e])),e--;a.replaceWith(c)}else i[S]?i[S][i.name]=!!l():i.nodeValue=l();o&&o.pop()}else e.delete(i);s&&console.log(performance.now()-r+" ms")},W=(e,t,n)=>{n=new Proxy(e,new Q(t,n));return t.obrs.set(e,n),n};class Q{constructor(e,t){this[r]=e,this[i]=t}get(n,o){if(n.hasOwnProperty(o)||s[o]){if(this[t]=this[r].obrs.get(n[o]))return this[t];if(this[r].nodes.length&&((this[v]="object"==typeof n[o]&&null!==n[o])||n===this[r].target)){let e,t=this[r].deps.get(n);if(t||(t=s[o]?{[o]:null}:{},this[r].deps.set(n,t)),(e=(e=t[o])||(t[o]=new Set)).add(this[r].nodes[0]),this[v])return W(n[o],this[r],e)}if(s[o])return this[l]=n,new Proxy(n[o],this)}return n[o]}set(e,t,n){return this[a]=this[r].deps.get(e),(this[a]=this[a]&&this[a][t]||this[i])?("object"==typeof e[t]&&null!==e[t]&&this[r].obrs.delete(e[t]),void 0===e[t]&&Array.isArray(e)?e.splice(t,0,n):e[t]=n,this[r].nodes.length||k(this[a],this[r])):e[t]=n,!0}apply(e,t,n){var o;return"toString"===e.name?(o=this[l]instanceof Map?"Map":this[l]instanceof Set?"Set":"",JSON.stringify(o?{[o]:[...this[l]]}:t,null," ")):s[e.name]?(e.apply(this[l],n),this[i]&&!this[r].nodes.length&&k(this[i],this[r]),t):e.apply(t,n)}deleteProperty(e,t){var n;return this[a]=this[r].deps.get(e),(this[a]=this[a]&&this[a][t]||this[i])?("object"==typeof e[t]&&null!==e[t]&&this[r].obrs.delete(e[t]),n=Array.isArray(e)?!!e.splice(t,1).length:!(e[t]=void 0),this[r].nodes.length||k(this[a],this[r]),n):delete e[t]}}function j(e,t,n){var o,s,r=e[d].regs,i=t.replace(location.origin,"");for([o,s]of r){var l,a=o.exec(i);a&&((l=new CustomEvent(s,{detail:n})).url=new URL(t),l.params=a.groups,l.search=l.url.searchParams,e.dispatchEvent(l))}}return b.entities=function(e,...t){return(t.length?[...n,...t]:n).reduce((e,t)=>e.replace(...t),e)},b.event=function(e,t,n=null){if(new.target)return new DocumentFragment;e.dispatchEvent(new CustomEvent(t,{detail:n}))},b.router=function(t,e,n=null){if(new.target){const s={},r=new Map,t=new class extends DocumentFragment{addEventListener(...e){r.set(new RegExp(`^/?${e[0].replace(H,(e,t)=>`(?<${t}>\\w+)`)}/?$`),e[0]),document.addEventListener.call(this,...e)}};return t[d]={idx:0,vals:s,regs:r},window.addEventListener("popstate",e=>{j(t,location.href,s[e.state])}),t}var o;e&&e.startsWith(location.origin)&&!D.test(e)&&(o=t[d],history.pushState(o.idx,"",e),j(t,e,o.vals[o.idx++]=n))},b.render=async function({parent:e=document.children[0],slots:t=!1,clean:n=!0}={}){await new Promise(e=>u.addEventListener("load",e));var o=document.createElement("template");return function t(n,e,o,s){if(s&&("STYLE"===n.nodeName||"SCRIPT"===n.nodeName||"TEMPLATE"===n.nodeName||8===n.nodeType))return;let r;if("SLOT"!==n.nodeName||o)if(n[m]){r=Y.createElement(n.nodeName);let e;for(e of n.attributes)r.setAttribute(e.name,e.value);n[T]||(n=c.get(n).root)}else r=n.cloneNode(!1);else r=new DocumentFragment;const i=n.assignedNodes?n.assignedNodes({flatten:!1}):(n.content||n).childNodes;if(i){let e=0;for(;e<i.length;e++)t(i[e],r.content||r,o,s)}e.append(r)}(e,o.content,t,n),e===document.children[0]?`<!DOCTYPE html>
`+o.innerHTML:o.innerHTML},b}();