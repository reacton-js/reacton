/*!
 * Reacton.js v2.1.0
 * (c) 2022-2023 | github.com/reacton-js
 * Released under the MIT License.
 */
!function(){"use strict";var e={d:function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};e.d({},{Y:function(){return q}});const t=/{{([^{}]*?)}}/,n=/:|\$/,o=Symbol();function i(e){if(8===e.nodeType)return e.remove();if(2===e.nodeType&&n.test(e.nodeName[0])){const t=e.nodeName.slice(1),n=e.value.trim()||"''";if("for"===t)e.ownerElement[o]=n;else{const i=document.createAttribute(t);i.value=n,"is"===t?e.ownerElement[o]=t:i[o]="boolean"==typeof e.ownerElement[t]?"boolean":t.startsWith("on")?"on":"text",e.ownerElement.setAttributeNode(i)}return e.ownerElement.removeAttribute(e.nodeName)}if(3===e.nodeType)if(e.data.trim()){const n=t.exec(e.nodeValue);n&&(0===n.index?(e.splitText(n[0].length),e.data=n[1].trim()||"''",e[o]="text"):e.splitText(n.index))}else{if("A"!==e.previousSibling?.nodeName||"A"!==e.nextSibling?.nodeName)return e.remove();e.data="\n"}else{if(e.attributes)for(var r=0;r<e.attributes.length;r++)i.call(this,e.attributes[r])||r--;for(r=0;r<e.childNodes.length;r++)i.call(this,e.childNodes[r])||r--}return!0}function r(e,t){if(t||(t=_.get(this).callbacks.get(e)),_.get(this).nodes.push(e),"text"===t.type)e.nodeValue=t();else if("on"===t.type)e.ownerElement[e.nodeName]=t();else if("is"===t.type){const i=t();if(i){e.value=i;const r=e.ownerElement;t.mount.innerHTML=`<${r.nodeName} is="${i}"></${r.nodeName}>`;const s=t.mount.content.firstElementChild,a=r.attributes;for(;a.length;){var n=a[0],o=n.name.startsWith("on")?r[n.name]:null;s.setAttributeNode(r.removeAttributeNode(n)),o&&(s[n.name]=o)}const l=_.get(this).booleans.get(e);if(l){let e=null;for(e of l)e.owner=s}for(;r.firstChild;)s.append(r.firstChild);r.replaceWith(s)}}else if("for"===t.type){if(!t.isExec){t.index=0,t.node=e,t.isExec=!0,t.next(),delete t.isExec;const n=t.index;for(var i=e.childNodes.length;i>n;i--)e.lastChild.remove()}}else"boolean"===t.type&&(t()?t.owner.setAttributeNode(e):t.owner.removeAttribute(e.nodeName));_.get(this).nodes.pop()}function s(e,t){const n=_.get(this).callbacks.get(t);if(n)return"is"===t.name?[e,n]:r.call(this,"boolean"===n.type?function(e,t,n){return 2!==e.nodeType?(n.owner=e,t.cloneNode()):(n.owner=e.ownerElement,e)}(e,t,n):e,n);let o=null;if(t.attributes)for(var i of t.attributes)o=s.call(this,e.attributes[i.name]||e,i)||o;o&&(r.call(this,...o),e=o[0].ownerElement);for(var a=0;a<t.childNodes.length;a++)s.call(this,e.childNodes[a],t.childNodes[a])}function*a(e){const t=e.childNodes.length;for(;;){const o=e.node;if(o.childNodes[e.index])for(var n=0;n<t;n++)s.call(this,o.childNodes[e.index+n],e.childNodes[n]);else{const t=e.cloneNode(!0);s.call(this,t,e),o.append(t)}yield e.index+=t}}const l=/('|"|`)[^]*?\1/g,c=/;|\b(?:of|in)\b/,d=/\b[A-Za-z_]\w*?\b/g,u=e=>e.replace(l,"").split(c)[0].match(d).join(),h=e=>`(function*() {\n  arguments[0] = yield function*() {\n    while (true) {\n      arguments[0] = yield eval(arguments[0])\n    }\n  }\n  while (true) {\n    yield; for (var ${e}) arguments[0].next()\n  }\n})()`;function f(e,t,n){if("is"===t[o]){var i=e.attributes.is;(l=_.get(this).exec.next(`() => ${t.attributes.is.value}`).value).type=t[o],l.mount=document.createElement("template"),_.get(this).callbacks.set(i,l);for(var s=0;s<t.childNodes.length;s++)p.call(this,e.childNodes[s],t.childNodes[s],n)}else if(1===t.nodeType){const i=_.get(this).exec.next(`() => ${h(t[o])}`).value(),r=i.next().value.call(this.$data);r.next();const l=(n?`${n},`:"")+u(t[o]),c=_.get(this).exec;for(_.get(this).exec=r,s=0;s<t.childNodes.length;s++)p.call(this,e.childNodes[s],t.childNodes[s],l);_.get(this).exec=c;const d=new DocumentFragment;for(;e.firstChild;)d.append(e.firstChild);i.next(a.call(this,d)),i.type="for",Object.defineProperty(i,"index",{get:()=>d.index,set:e=>d.index=e}),Object.defineProperty(i,"node",{set:e=>d.node=e}),_.get(this).callbacks.set(e,i)}else{var l;if((l="on"!==t[o]?_.get(this).exec.next(`() => ${t.nodeValue}`).value:_.get(this).exec.next(n?`() => ((${n}) => event => ${t.nodeValue})(${n})`:`() => event => ${t.nodeValue}`).value).type=t[o],"boolean"===t[o]){if(l.owner=e.ownerElement,"is"===t.ownerElement[o]){const t=e.ownerElement.attributes.is;(_.get(this).booleans.get(t)||_.get(this).booleans.set(t,new Set).get(t)).add(l)}e.value=""}_.get(this).callbacks.set(e,l)}n||r.call(this,i||e,l)}function p(e,t,n){if(t.attributes)for(var i of t.attributes)p.call(this,e.attributes[i.name],i,n);if(t[o])f.call(this,e,t,n);else for(var r=0;r<t.childNodes.length;r++)p.call(this,e.childNodes[r],t.childNodes[r],n)}function m(e){for(var t of(_.get(this).before?.call(this),e))r.call(this,t);_.get(this).after?.call(this)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function v(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,y(e,t,"get"))}function b(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,y(e,t,"set"),n),n}function y(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}const N=new Set(["push","pop","shift","unshift","splice","sort","reverse"]);var $=new WeakMap,x=new WeakMap;class E{constructor(e,t){w(this,$,{writable:!0,value:void 0}),w(this,x,{writable:!0,value:void 0}),b(this,$,e),b(this,x,t)}apply(e,t,n){return"toString"===e.name?JSON.stringify(t,null," "):N.has(e.name)?(e.apply(E.target,n),E.deps&&m.call(v(this,$).host,E.deps),t):e.apply(t,n)}deleteProperty(e,t){const n=v(this,$).values.get(e);return Array.isArray(n)?n.splice(t,1):n[t]=void 0,!0}get(e,t,n){E.target=e,v(this,x)&&(E.deps=v(this,x));const o=Reflect.get(e,t,n);if(v(this,$).values.has(o))return v(this,$).values.get(o);if(!e.hasOwnProperty(t))return"toString"===t||Array.isArray(e)&&N.has(t)?T.call(v(this,$).host,o):o;if(v(this,$).nodes.length){const n=v(this,$).nodes[0];v(this,x)&&v(this,x).add(n);let o=v(this,$).dependencies.get(e);o||(o={},v(this,$).dependencies.set(e,o));var i=o[t];i||(i=o[t]=new Set),i.add(n)}return!o||"object"!=typeof o&&"function"!=typeof o?o:T.call(v(this,$).host,o,i)}set(e,t,n,o){const i=Reflect.get(e,t,o);if(!Reflect.set(e,t,n,o))return!1;v(this,$).dependencies.delete(i),v(this,$).values.delete(i);const r=v(this,$).dependencies.get(e);if(!r)return!0;const s=r[t]||v(this,x);return s&&m.call(v(this,$).host,s),!0}}function T(e,t){const n=new Proxy(e,new E(_.get(this),t));return _.get(this).values.set(e,n),n}function A(e){if(new.target)return new DocumentFragment;for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];(e||this).dispatchEvent(new CustomEvent(...n))}function P(e,t){const n=location.href.replace(location.origin,"");Object.keys(t).forEach((o=>{const i=t[o].exec(n);if(i){const t=new CustomEvent(o);t.url=new URL(location.href),t.params=i.groups,e.dispatchEvent(t)}}))}g(E,"target",null),g(E,"deps",null);const L=/:(\w+)/g,S=/\.\w+$/;async function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{once:o,capture:i,passive:r,when:s,start:a=!0}=n,l=new A,c={};for(const e in t)l.addEventListener(e,t[e]),c[e]=new RegExp(`^${e.replace(L,((e,t)=>`(?<${t}>\\w+)`))}/?$`);window.addEventListener("popstate",(()=>{P(l,c)})),e.addEventListener("click",(e=>{const t=e.composedPath()[0],n=t.getAttribute("href");n&&t.origin===location.origin&&!S.test(n)&&(e.preventDefault(),history.pushState(null,"",n),P(l,c))}),{once:o,capture:i,passive:r}),s&&await j(s),a&&P(l,c)}const k=Function("return function*(){}")().constructor,C="$, $$, $root, $host, $data, $parent, $when, $event, $router, $mixins",j=e=>new Promise((t=>O.addEventListener(e,t,{once:!0}))),O=new A,H=new Set,_=new WeakMap;function W(e,t){const{name:n,extends:o,mode:r,data:s,html:a="",attributes:l,changed:c,mixins:d,before:u,after:h,connected:f,disconnected:m,adopted:g}=e,w=o?Object.getPrototypeOf(document.createElement(o)).constructor:HTMLElement,v=document.createElement("template");v.innerHTML=a,i(v.content);const b=new Set;let y=0;customElements.define(n,class extends w{constructor(){super(),y++,_.set(this,{nodes:[],host:this,values:new WeakMap,callbacks:new WeakMap,dependencies:new WeakMap,booleans:new WeakMap,childs:b,before:u,after:h});let e=this.parentNode.host||this.parentNode;for(;e&&!e.$root;)e=e.parentNode?.host||e.parentNode;e&&_.get(e).childs.add(this),Object.defineProperties(this,{$root:{value:r?this.attachShadow({mode:r}):this},$host:{value:this},$parent:{value:e?.$data}}),this.addEventListener("__INIT__",(()=>{e&&(_.get(e).childs.delete(this),this.$event(e,"__INIT__")),0===y&&0===b.size&&(H.add(n),t())}))}async connectedCallback(){Object.defineProperty(this,"$data",{value:new Proxy("function"==typeof s?T.call(this,await s.call(this)):{},{get:(e,t,n)=>e.hasOwnProperty(t)?Reflect.get(e,t,n):this[t]})}),this.$event(O,n);const e=k(`{ ${C} } = this`,"with (this) while (true) arguments[0] = yield eval(arguments[0])").call(this.$data);e.next(),_.get(this).exec=e;const t=new DocumentFragment;t.append(v.content.cloneNode(!0)),p.call(this,t,v.content),this.$root.append(t),"function"==typeof f&&await f.call(this),y--,this.$event(null,"__INIT__")}async disconnectedCallback(){"function"==typeof m&&await m.call(this)}async adoptedCallback(){"function"==typeof g&&await g.call(this)}static get observedAttributes(){if(Array.isArray(l))return l}async attributeChangedCallback(){if("function"==typeof c){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];await c.apply(this,t)}}$(e){return this.$root.querySelector(e)}$$(e){return this.$root.querySelectorAll(e)}get $when(){return j}get $event(){return A}get $router(){return M}get $mixins(){return d||window.Reacton.mixins}},o?{extends:o}:null),customElements.whenDefined(n).then((()=>y||t()))}function R(e){const t=e.content||e,n=[...t.querySelectorAll("script")].map((e=>t.removeChild(e).innerHTML)).join(""),o=Function("exports",`${n}\n return exports`)()||{};return e instanceof HTMLTemplateElement?e.hasAttribute("name")&&(o.name=e.getAttribute("name")):e instanceof HTMLElement&&(o.name=e.nodeName.toLowerCase()),e.hasAttribute("mode")&&(o.mode=e.getAttribute("mode")),e.hasAttribute("extends")&&(o.extends=e.getAttribute("extends")),o.html=e.innerHTML,o}const D=document.implementation.createHTMLDocument();function I(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("STYLE"===e.nodeName||"SCRIPT"===e.nodeName||"TEMPLATE"===e.nodeName||8===e.nodeType)return!1;let o=null;if(e.$root){o=D.createElement(e.nodeName);for(const t of e.attributes)o.setAttribute(t.name,t.value)}else o=e.cloneNode();t.append(o);const i="SLOT"===e.nodeName?e.assignedNodes({flatten:!0}):(e.$root||e).childNodes;for(var r=0,s=0;r<i.length;r++,s++)I(i[r],t.childNodes[n],s)||s--;return"SLOT"===o.nodeName&&o.replaceWith(...o.childNodes),!0}function F(e){const t=new XMLHttpRequest;return t.open("GET",e),t.send(),new Promise((e=>{t.onload=()=>{const n=document.createElement("template");n.innerHTML=t.response,e([...n.content.children])}}))}const V=/\.html?$/,q=[],z=async function(){q.length=0;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const e of t)if("string"==typeof e&&V.test(e))q.push(...(await F(e)).map((e=>new Promise((t=>W(R(e),t))))));else if(Array.isArray(e)){const t=document.createElement("template");t.innerHTML=e.join(""),q.push(...[...t.content.children].map((e=>new Promise((t=>W(R(e),t))))))}else e instanceof HTMLElement?q.push(new Promise((t=>W(R(e),t)))):"object"==typeof e&&q.push(new Promise((t=>W(e,t))));return await Promise.all(q),[...H]};z.render=async e=>{await Promise.all(q);const t=document.createElement("template");return I(e||document.children[0],t.content),e?t.innerHTML:`<!DOCTYPE html>\n${t.innerHTML}`},z.event=A,z.router=M,window.Reacton=z}();