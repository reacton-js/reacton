/*!
 * Reacton.js v3.4.1
 * (c) 2022-2023 | github.com/reacton-js
 * Released under the MIT License.
 */
"use strict";!function(){const s=/[A-Z]/g,g=new WeakMap,r=document.implementation.createHTMLDocument(),w={get(e,t){return e.hasOwnProperty(t)?e[t].value:e[t]},set(e,t,n){return e[t].value=n,!0}},v=Symbol(),b=new Set,N=new A,o=new CustomEvent("init-event",{bubbles:!0,composed:!0});function a(m){const p=(m.mode||"").toLowerCase();var e=(m.extends||"").toLowerCase(),t=m.name.replace(s,(e,t)=>(0<t?"-":"")+e.toLowerCase()),n=e?Object.getPrototypeOf(document.createElement(e)).constructor:HTMLElement;customElements.define(t,class extends n{constructor(){super(),b.add(this);const t=p?this.attachShadow({mode:p}):this;var e=new WeakMap,n=new WeakMap,s=new WeakMap,o=new WeakMap;const a={},r=new Proxy(this.attributes,w),i={},l=t.host,c=e=>t.querySelector(e),d=e=>t.querySelectorAll(e),u=new Proxy(new m(r),{get:(e,t,n)=>{if(t===v)return this;n=Reflect.get(e,t,n);if(e.hasOwnProperty(t))return h.node&&(a[t]||(a[t]=new Set),a[t].add(h.node)),f._nodes=a[t],h.obsers.has(n)?h.obsers.get(n):n&&"object"==typeof n?y.call(this,n,f):n;switch(t){case"$state":return u;case"$props":return r;case"$refs":return i;case"$host":return l;case"$":return c;case"$$":return d}return"symbol"==typeof t||t in e?n:this[t]},set:(e,t,n,s)=>!!Reflect.set(e,t,n,s)&&(a[t]&&E.call(this,a[t],m),!0)}),h=(Object.defineProperties(this,{$state:{get(){if("closed"!==p)return u}},$props:{get(){if("closed"!==p)return r}},$refs:{get(){if("closed"!==p)return i}},$host:{get(){if("closed"!==p)return l}},$:{get(){if("closed"!==p)return c}},$$:{get(){if("closed"!==p)return d}},$light:{value:t===this||!1},$shadow:{value:this.shadowRoot},$event:{value:A},$route:{value:L}}),{root:t,funcs:e,obsers:n,bools:s,events:o,state:u,refs:i}),f=(g.set(this,h),h.exec=function(){return new Function(`{ ${x} } = this`,"return function() { with (this) return eval(arguments[0]) }.bind(this)").call(g.get(this).state)}.call(this),new $(m,n));(f[v]=this).addEventListener("init-event",e=>{b.delete(e.detail),0===b.size&&(e.stopPropagation(),A(N,"ok"))})}async connectedCallback(){var e=g.get(this),t=document.createElement("template");"string"==typeof m.template||void 0===m.template?t.innerHTML=m.template||"":"function"==typeof m.template?t.innerHTML=await m.template.call(e.state)||"":m.template instanceof DocumentFragment&&t.content.append(m.template.cloneNode(!0)),f.call(this,t.content),e.root.append(t.content),await(!m.connected||m.connected.call(e.state)),setTimeout(()=>{(o.detail=this).dispatchEvent(o)},0)}async disconnectedCallback(){await(!m.disconnected||m.disconnected.call(g.get(this).state))}async adoptedCallback(){await(!m.adopted||m.adopted.call(g.get(this).state))}async attributeChangedCallback(...e){await(!m.changed||m.changed.apply(g.get(this).state,e))}static get observedAttributes(){if(Array.isArray(m.attributes))return m.attributes}$entities(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}},e?{extends:e}:null)}Object.defineProperty(o,"detail",{writable:!0});const i=new Set(["push","pop","shift","unshift","splice","sort","reverse"]);class ${constructor(e,t){this._init=e,this._obsers=t}deleteProperty(e,t){return Array.isArray(e)?e.splice(t,1):delete e[t],this._nodes&&E.call(this[v],this._nodes,this._init),!0}apply(e,t,n){return"toString"===e.name?JSON.stringify(t,null," "):i.has(e.name)?(e.apply(this._target,n),this._nodes&&E.call(this[v],this._nodes,this._init),t):e.apply(t,n)}get(e,t,n){this._target=e;n=Reflect.get(e,t,n);return this._obsers.has(n)?this._obsers.get(n):e.hasOwnProperty(t)?n&&"object"==typeof n?y.call(this[v],n,this):n:"toString"===t||Array.isArray(e)&&i.has(t)?y.call(this[v],n,this):n}set(e,t,n,s){return!!Reflect.set(e,t,n,s)&&(this._nodes&&E.call(this[v],this._nodes,this._init),!0)}}function y(e,t){t=new Proxy(e,t);return g.get(this).obsers.set(e,t),t}const d=/(['"`])[^]*?\1/,u=/;|\b(?:of)|(?:in)\b/,h=/\b[A-Za-z_]\w*?\b/g;const x="$state, $props, $refs, $host, $, $$, $light, $shadow, $event, $route, $entities";const e=/{{([^{}]*?)}}/;function f(n,s){if(8===n.nodeType)return n.remove();if(3===n.nodeType)n.data.trim()?(r=e.exec(n.data))&&(0===r.index?(o=(t=g.get(this)).exec("() => "+r[1]),n.splitText(r[0].length),t.funcs.set(n,o),s||((t.node=n).data=o(),delete t.node)):n.splitText(r.index)):-1!==n.data.indexOf("\n")?n.data="\n":n.data.length&&(n.data=" ");else{if(2===n.nodeType&&(":"===n.nodeName[0]||"$"===n.nodeName[0]||"#"===n.nodeName[0])){var o=g.get(this),a=n.ownerElement;if(a.removeAttribute(n.nodeName),"#"===n.nodeName[0])o.refs[n.nodeName.slice(1)]=a;else{if("$for"===n.nodeName){s||(o.node=a);const l=new DocumentFragment;for(;a.firstChild;)l.append(a.firstChild);var t=o.exec(`(function*() { arguments[0] = yield function() { return eval(arguments[0]) }; while (true) { yield; for (var ${n.value}) arguments[0]() } })()`),r=t.next().value.bind(this.$state);t.next(()=>function(t,n){if(n.owner.childNodes[n.index])for(let e=0;e<n.length;e++)_.call(this,n.owner.childNodes[n.index+e],t.childNodes[e]);else{var e=t.cloneNode(!0);_.call(this,e,t),n.owner.append(e)}n.index+=n.length}.call(this,l,c));let e=n.value.replace(d,"").split(u)[0].match(h).join();s&&(e+=","+s);var i=o.exec;o.exec=r,f.call(this,l,e),o.exec=i;const c={executor:r,iterator:t,length:l.childNodes.length};o.funcs.set(a,c),s||p.call(this,a,o.funcs.get(a))}else{i=n.nodeName.slice(1),r=document.createAttribute(i);if(s||(o.node=r),"on"===r.name.substring(0,2)){let e,t=n.value.trim();"function"==typeof o.state[t]&&(t+="(event)"),s?(e=o.exec(`() => ((${s}) => event => ${t})(${s})`),o.funcs.set(r,e),a.setAttributeNode(r),e._on=i):(e=o.exec("event => "+t),a["on"+r.name.slice(2)]=e),a.hasAttribute(":is")&&(o.events.has(a)||o.events.set(a,{}),o.events.get(a)[i]=e)}else{t=o.exec("() => "+n.value);if(o.funcs.set(r,t),"boolean"==typeof a[i])s?(a.setAttributeNode(r),t._name=i):t()?a.setAttributeNode(r):a.removeAttribute(i),a.hasAttribute(":is")&&(o.bools.has(a)||o.bools.set(a,{}),o.bools.get(a)[i]=t),t._owner=a;else if(s||(r.value=t()),a.setAttributeNode(r),"is"===r.name)if(s){i=document.createElement("template");i.content.append(...a.childNodes),t._childs=i.content}else{for(let e=0;e<a.childNodes.length;e++)f.call(this,a.childNodes[e])||e--;t._childs=[...a.childNodes],p.call(this,r,o.funcs.get(r))}}}s||delete o.node}return null}if(n.attributes)for(let e=0;e<n.attributes.length;e++)f.call(this,n.attributes[e],s)||e--;for(let e=0;e<n.childNodes.length;e++)f.call(this,n.childNodes[e],s)||e--}return n}function E(e,t){const n=g.get(this);t.before&&t.before.call(n.state),e.forEach(e=>p.call(this,e,n.funcs.get(e))),t.after&&t.after.call(n.state)}const m=document.createElement("template");function p(t,e,n){if(e._on)t[e._on]=e();else if(e.iterator){var s=g.get(this),o=s.exec,a=(s.exec=e.executor,e.index=0,e.owner=t,e.iterator.next(),e.index);for(let e=t.childNodes.length;e>a;e--)t.lastChild.remove();s.exec=o}else if("is"===t.name){for(var s=e(),r=(t.value=s,t.ownerElement),i=(m.innerHTML=`<${r.nodeName} is="${s}" />`,m.content.firstElementChild);r.attributes.length;)i.setAttributeNode(r.removeAttributeNode(r.attributes[0]));var o=g.get(this),l=o.bools.get(r);if(l){for(const d in l)l[d]._owner=i;o.bools.delete(r),o.bools.set(i,l)}var c=o.events.get(n||r);if(c){for(const u in c)i[u]=n?c[u]():c[u];o.events.delete(r),o.events.set(i,c)}e._childs instanceof DocumentFragment?(s=e._childs.cloneNode(!0),f.call(this,s),i.append(s)):i.append(...e._childs),r.replaceWith(i)}else e._owner?e()?e._name?e._owner.setAttribute(e._name,""):e._owner.setAttributeNode(t):e._owner.removeAttribute(t.nodeName):t.nodeValue=e()}function _(t,n){var e,s=g.get(this).funcs.get(n);if(s&&(s._on&&t.ownerElement?((e=t.ownerElement).removeAttribute(s._on),t=e):s._owner&&(s._owner=t.ownerElement||t),p.call(this,t,s,n.ownerElement)),n.attributes)for(var o of n.attributes)_.call(this,t.attributes[o.name]||t,o);for(let e=0;e<n.childNodes.length;e++)_.call(this,t.childNodes[e],n.childNodes[e])}function A(e,...t){if(new.target)return new DocumentFragment;e.dispatchEvent(new CustomEvent(...t))}const l=/:(\w+)/g,c=new WeakSet;function L(t,e,n=null){if(new.target){const s={};return new class extends DocumentFragment{addEventListener(...e){s[e[0]]=new RegExp(`^${e[0].replace(l,(e,t)=>`(?<${t}>\\w+)`)}/?$`),document.addEventListener.call(this,...e)}getEventRegs(){return s}}}c.has(t)||(c.add(t),window.addEventListener("popstate",e=>{T(t,location.href.replace(location.origin,""),e.state)})),e&&(e=e.replace(location.origin,""),history.pushState(n,"",e),T(t,e,n))}function T(e,t,n){var s=e.getEventRegs();for(const r in s){var o,a=s[r].exec(t);a&&((o=new CustomEvent(r)).url=new URL(location.href),o.params=a.groups,e.dispatchEvent(o,n))}}function C(e,n,s=0){if(C.clean&&("STYLE"===e.nodeName||"SCRIPT"===e.nodeName||"TEMPLATE"===e.nodeName||8===e.nodeType))return!1;let t,o;if(e.$state){t=r.createElement(e.nodeName);for(const a of e.attributes)t.setAttribute(a.name,a.value)}else t=e.cloneNode(!1);n.append(t),"SLOT"===t.nodeName?(o=e.assignedNodes({flatten:!0}),C.slots.push(t)):o=(e.$shadow||e).childNodes;for(let e=0,t=0;e<o.length;e++,t++)C(o[e],n.childNodes[s],t)||t--;return!0}function t(e){if("string"==typeof e&&((n=document.createElement("template")).innerHTML=e,t=n.content.children[0],n.classList.add(t.nodeName.toLowerCase()),t.replaceWith(...t.childNodes),e=n),e instanceof HTMLTemplateElement){const s=e.content;var t=[...s.querySelectorAll("script")].map(e=>s.removeChild(e).innerHTML).join(""),n=new Function("exports",t+`
 return exports`)()||class{};Object.defineProperties(n,{name:{value:n.name&&"exports"!==n.name?n.name:e.classList[0]},template:{value:s}}),a(n)}else"function"==typeof e&&a(e)}window.Reacton=(...e)=>e.forEach(t),window.Reacton.event=A,window.Reacton.route=L,window.Reacton.ssr=function({node:n,slots:s,clean:o=!0}={}){return new Promise(t=>N.addEventListener("ok",()=>{var e=document.createElement("template");C.clean=o,C.slots=[],C(n||document.children[0],e.content),s||C.slots.forEach(e=>e.replaceWith(...e.childNodes)),t(n?e.innerHTML:`<!DOCTYPE html>
`+e.innerHTML)}))}}();