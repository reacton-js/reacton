!function(){var e={549:function(){!function(){"use strict";var e={d:function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};e.d({},{Y:function(){return J}});const t=/{{([^{}]*?)}}/,n=/:|\$/,o=Symbol();function i(e){if(8===e.nodeType)return e.remove();if(2===e.nodeType&&n.test(e.nodeName[0])){const t=e.nodeName.slice(1),n=e.value.trim()||"''";if("for"===t)e.ownerElement[o]=n;else{const i=document.createAttribute(t);i.value=n,"is"===t?e.ownerElement[o]=t:i[o]="boolean"==typeof e.ownerElement[t]?"boolean":t.startsWith("on")?"on":"text",e.ownerElement.setAttributeNode(i)}return e.ownerElement.removeAttribute(e.nodeName)}if(3===e.nodeType)if(e.data.trim()){const n=t.exec(e.nodeValue);n&&(0===n.index?(e.splitText(n[0].length),e.data=n[1].trim()||"''",e[o]="text"):e.splitText(n.index))}else{if("A"!==e.previousSibling?.nodeName||"A"!==e.nextSibling?.nodeName)return e.remove();e.data="\n"}else{if(e.attributes)for(var r=0;r<e.attributes.length;r++)i.call(this,e.attributes[r])||r--;for(r=0;r<e.childNodes.length;r++)i.call(this,e.childNodes[r])||r--}return!0}function r(e,t){if(t||(t=_.get(this).callbacks.get(e)),_.get(this).nodes.push(e),"text"===t.type)e.nodeValue=t();else if("on"===t.type)e.ownerElement[e.nodeName]=t();else if("is"===t.type){const i=t();if(i){e.value=i;const r=e.ownerElement;t.mount.innerHTML=`<${r.nodeName} is="${i}"></${r.nodeName}>`;const a=t.mount.content.firstElementChild,s=r.attributes;for(;s.length;){var n=s[0],o=n.name.startsWith("on")?r[n.name]:null;a.setAttributeNode(r.removeAttributeNode(n)),o&&(a[n.name]=o)}const l=_.get(this).booleans.get(e);if(l){let e=null;for(e of l)e.owner=a}t.childs&&a.append(...t.childs),r.replaceWith(a)}}else if("for"===t.type){if(!t.isExec){t.index=0,t.node=e,t.isExec=!0,t.next(),delete t.isExec;const n=t.index;for(var i=e.childNodes.length;i>n;i--)e.lastChild.remove()}}else"boolean"===t.type&&(t()?t.owner.setAttributeNode(e):t.owner.removeAttribute(e.nodeName));_.get(this).nodes.pop()}function a(e,t){const n=_.get(this).callbacks.get(t);if(n)return"is"===t.name?[e,n]:r.call(this,"boolean"===n.type?function(e,t,n){return 2!==e.nodeType?(n.owner=e,t.cloneNode()):(n.owner=e.ownerElement,e)}(e,t,n):e,n);let o=null;if(t.attributes)for(var i of t.attributes)o=a.call(this,e.attributes[i.name]||e,i)||o;o&&(r.call(this,...o),e=o[0].ownerElement);for(var s=0;s<t.childNodes.length;s++)a.call(this,e.childNodes[s],t.childNodes[s])}function*s(e){const t=e.childNodes.length;for(;;){const o=e.node;if(o.childNodes[e.index])for(var n=0;n<t;n++)a.call(this,o.childNodes[e.index+n],e.childNodes[n]);else{const t=e.cloneNode(!0);a.call(this,t,e),o.append(t)}yield e.index+=t}}const l=/('|"|`)[^]*?\1/g,c=/;|\b(?:of|in)\b/,d=/\b[A-Za-z_]\w*?\b/g,u=e=>e.replace(l,"").split(c)[0].match(d).join(),h=e=>`(function*() {\n  arguments[0] = yield function*() {\n    while (true) {\n      arguments[0] = yield eval(arguments[0])\n    }\n  }\n  while (true) {\n    yield; for (var ${e}) arguments[0].next()\n  }\n})()`;function p(e,t,n){if("is"===t[o]){var i=e.attributes.is;if((l=_.get(this).exec.next(`() => ${t.attributes.is.value}`).value).type=t[o],l.mount=document.createElement("template"),t.childNodes.length){for(var a=0;a<t.childNodes.length;a++)g.call(this,e.childNodes[a],t.childNodes[a],n);l.childs=[...e.childNodes]}_.get(this).callbacks.set(i,l)}else if(1===t.nodeType){const i=_.get(this).exec.next(`() => ${h(t[o])}`).value(),r=i.next().value.call(this.$data);r.next();const l=(n?`${n},`:"")+u(t[o]),c=_.get(this).exec;for(_.get(this).exec=r,a=0;a<t.childNodes.length;a++)g.call(this,e.childNodes[a],t.childNodes[a],l);_.get(this).exec=c;const d=new DocumentFragment;for(;e.firstChild;)d.append(e.firstChild);i.next(s.call(this,d)),i.type="for",Object.defineProperty(i,"index",{get:()=>d.index,set:e=>d.index=e}),Object.defineProperty(i,"node",{set:e=>d.node=e}),_.get(this).callbacks.set(e,i)}else{var l;if((l="on"!==t[o]?_.get(this).exec.next(`() => ${t.nodeValue}`).value:_.get(this).exec.next(n?`() => ((${n}) => event => ${t.nodeValue})(${n})`:`() => event => ${t.nodeValue}`).value).type=t[o],"boolean"===t[o]){if(l.owner=e.ownerElement,"is"===t.ownerElement[o]){const t=e.ownerElement.attributes.is;(_.get(this).booleans.get(t)||_.get(this).booleans.set(t,new Set).get(t)).add(l)}e.value=""}_.get(this).callbacks.set(e,l)}n||r.call(this,i||e,l)}function g(e,t,n){if(t.attributes)for(var i of t.attributes)g.call(this,e.attributes[i.name],i,n);if(t[o])p.call(this,e,t,n);else for(var r=0;r<t.childNodes.length;r++)g.call(this,e.childNodes[r],t.childNodes[r],n)}function m(e){for(var t of(_.get(this).before?.call(this),e))r.call(this,t);_.get(this).after?.call(this)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function y(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,b(e,t,"get"))}function w(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,b(e,t,"set"),n),n}function b(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}const x=new Set(["push","pop","shift","unshift","splice","sort","reverse"]);var $=new WeakMap,N=new WeakMap;class E{constructor(e,t){v(this,$,{writable:!0,value:void 0}),v(this,N,{writable:!0,value:void 0}),w(this,$,e),w(this,N,t)}apply(e,t,n){return"toString"===e.name?JSON.stringify(t,null," "):x.has(e.name)&&!t.hasOwnProperty(e.name)?(e.apply(E.target,n),E.deps&&m.call(y(this,$).host,E.deps),t):e.apply(t,n)}deleteProperty(e,t){const n=y(this,$).values.get(e);return Array.isArray(n)?n.splice(t,1):n[t]=void 0,!0}get(e,t,n){E.target=e,y(this,N)&&(E.deps=y(this,N));const o=Reflect.get(e,t,n);if(y(this,$).values.has(o))return y(this,$).values.get(o);if(!e.hasOwnProperty(t))return"toString"===t||Array.isArray(e)&&x.has(t)?T.call(y(this,$).host,o):o;if(y(this,$).nodes.length){const n=y(this,$).nodes[0];y(this,N)&&y(this,N).add(n);let o=y(this,$).dependencies.get(e);o||(o={},y(this,$).dependencies.set(e,o));var i=o[t];i||(i=o[t]=new Set),i.add(n)}return!o||"object"!=typeof o&&"function"!=typeof o?o:T.call(y(this,$).host,o,i)}set(e,t,n,o){const i=Reflect.get(e,t,o);if(!Reflect.set(e,t,n,o))return!1;y(this,$).dependencies.delete(i),y(this,$).values.delete(i);const r=y(this,$).dependencies.get(e);if(!r)return!0;const a=r[t]||y(this,N);return a&&m.call(y(this,$).host,a),!0}}function T(e,t){const n=new Proxy(e,new E(_.get(this),t));return _.get(this).values.set(e,n),n}function A(e){if(new.target)return new DocumentFragment;for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];(e||this).dispatchEvent(new CustomEvent(...n))}function S(e,t){const n=location.href.replace(location.origin,"");Object.keys(t).forEach((o=>{const i=t[o].exec(n);if(i){const t=new CustomEvent(o);t.url=new URL(location.href),t.params=i.groups,e.dispatchEvent(t)}}))}f(E,"target",null),f(E,"deps",null);const P=/:(\w+)/g,k=/\.\w+$/;async function L(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{once:o,capture:i,passive:r,when:a,start:s=!0}=n,l=new A,c={};for(const e in t)l.addEventListener(e,t[e]),c[e]=new RegExp(`^${e.replace(P,((e,t)=>`(?<${t}>\\w+)`))}/?$`);window.addEventListener("popstate",(()=>{S(l,c)})),e.addEventListener("click",(e=>{const t=e.composedPath()[0],n=t.getAttribute("href");n&&t.origin===location.origin&&!k.test(n)&&(e.preventDefault(),history.pushState(null,"",n),S(l,c))}),{once:o,capture:i,passive:r}),a&&await C(a),s&&S(l,c)}const M=Function("return function*(){}")().constructor,O="$, $$, $root, $host, $data, $parent, $when, $event, $router, $mixins",j={},C=e=>new Promise((t=>R.addEventListener(e,t,{once:!0}))),R=new A,H=new Set,_=new WeakMap;function D(e,t){const{name:n,extends:o,mode:r,data:a,html:s="",attributes:l,changed:c,mixins:d,before:u,after:h,connected:p,disconnected:m,adopted:f}=e,v=o?Object.getPrototypeOf(document.createElement(o)).constructor:HTMLElement,y=document.createElement("template");y.innerHTML=s,i(y.content);const w=new Set;let b=0;customElements.define(n,class extends v{constructor(){super(),b++;let e=this.parentNode.host||this.parentNode;for(;e&&!e.$root;)e=e.parentNode?.host||e.parentNode;e&&_.get(e).childs.add(this),_.set(this,{host:this,values:new WeakMap,nodes:e?_.get(e).nodes:[],callbacks:e?_.get(e).callbacks:new WeakMap,dependencies:new WeakMap,booleans:new WeakMap,childs:w,before:u,after:h}),Object.defineProperties(this,{$root:{value:r?this.attachShadow({mode:r}):this},$host:{value:this},$parent:{value:e?.$data},$mixins:{value:new Proxy(j,{get:(e,t)=>d?.[t]??Reacton.mixins?.[t]??this.$data[t]})}}),this.addEventListener("__INIT__",(()=>{e&&(_.get(e).childs.delete(this),this.$event(e,"__INIT__")),0===b&&0===w.size&&(H.add(n),t())}))}async connectedCallback(){Object.defineProperty(this,"$data",{value:new Proxy("function"==typeof a?T.call(this,await a.call(this)):{},{get:(e,t,n)=>e.hasOwnProperty(t)?Reflect.get(e,t,n):this[t]??this.$parent?.[t]})}),this.$event(R,n);const e=M(`{ ${O} } = this`,"with (this) while (true) arguments[0] = yield eval(arguments[0])").call(this.$data);e.next(),_.get(this).exec=e;const t=new DocumentFragment;t.append(y.content.cloneNode(!0)),g.call(this,t,y.content),this.$root.append(t),"function"==typeof p&&await p.call(this.$data),b--,this.$event(null,"__INIT__")}async disconnectedCallback(){"function"==typeof m&&await m.call(this.$data)}async adoptedCallback(){"function"==typeof f&&await f.call(this.$data)}static get observedAttributes(){if(Array.isArray(l))return l}async attributeChangedCallback(){if("function"==typeof c){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];await c.apply(this.$data,t)}}$(e){return this.$root.querySelector(e)}$$(e){return this.$root.querySelectorAll(e)}get $when(){return C}get $event(){return A}get $router(){return L}},o?{extends:o}:null),customElements.whenDefined(n).then((()=>b||t()))}function W(e){const t=e.content||e,n=[...t.querySelectorAll("script")].map((e=>t.removeChild(e).innerHTML)).join(""),o=Function("exports",`${n}\n return exports`)()||{};return e instanceof HTMLTemplateElement?e.hasAttribute("name")&&(o.name=e.getAttribute("name")):e instanceof HTMLElement&&(o.name=e.nodeName.toLowerCase()),e.hasAttribute("mode")&&(o.mode=e.getAttribute("mode")),e.hasAttribute("extends")&&(o.extends=e.getAttribute("extends")),o.html=e.innerHTML,o}const I=document.implementation.createHTMLDocument();function F(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("STYLE"===e.nodeName||"SCRIPT"===e.nodeName||"TEMPLATE"===e.nodeName||8===e.nodeType)return!1;let o=null;if(e.$root){o=I.createElement(e.nodeName);for(const t of e.attributes)o.setAttribute(t.name,t.value)}else o=e.cloneNode();t.append(o);const i="SLOT"===e.nodeName?e.assignedNodes({flatten:!0}):(e.$root||e).childNodes;for(var r=0,a=0;r<i.length;r++,a++)F(i[r],t.childNodes[n],a)||a--;return"SLOT"===o.nodeName&&o.replaceWith(...o.childNodes),!0}function q(e){const t=new XMLHttpRequest;return t.open("GET",e),t.send(),new Promise((e=>{t.onload=()=>{const n=document.createElement("template");n.innerHTML=t.response,e([...n.content.children])}}))}const z=/\.html?$/,J=[],V=async function(){J.length=0;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const e of t)if("string"==typeof e&&z.test(e))J.push(...(await q(e)).map((e=>new Promise((t=>D(W(e),t))))));else if(Array.isArray(e)){const t=document.createElement("template");t.innerHTML=e.join(""),J.push(...[...t.content.children].map((e=>new Promise((t=>D(W(e),t))))))}else e instanceof HTMLElement?J.push(new Promise((t=>D(W(e),t)))):"object"==typeof e&&J.push(new Promise((t=>D(e,t))));return await Promise.all(J),[...H]};V.render=async e=>{await Promise.all(J);const t=document.createElement("template");return F(e||document.children[0],t.content),e?t.innerHTML:`<!DOCTYPE html>\n${t.innerHTML}`},V.event=A,V.router=L,window.Reacton=V}()}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}!function(){"use strict";n(549);const e=new Reacton.event;Reacton.mixins={routeEvents:e,getJSON(e){return new Promise((t=>{const n=new XMLHttpRequest;n.open("POST",e),n.responseType="json",n.send(),n.onload=()=>t(n.response)}))}},Reacton.router(document,{"/":()=>{Reacton.event(e,"page-change",{detail:{page:"r-home"}})},"/categories":()=>{Reacton.event(e,"page-change",{detail:{page:"r-categories"}})},"/categories/:category/:id?":t=>{t.params.id?Reacton.event(e,"page-change",{detail:{category:t.params.category,id:t.params.id,page:"r-worker"}}):Reacton.event(e,"page-change",{detail:{category:t.params.category,page:"r-list"}})}},{when:"r-main"}),Reacton(['<r-header mode="open" extends="header"> <nav> <a href="/">Home</a> <a href="/categories/">Categories</a> </nav> <img src="/img/logo.png" alt="logo"> <style>nav{margin:15px}a+a{margin-left:5px}a:hover{color:red}img{width:100%;max-width:400px;margin-left:12px}</style> </r-header>','<r-main mode="open" extends="main"> <article :is="page"></article> <style>:host{margin:15px;margin-top:30px}</style> <script>exports={data:()=>({page:"",category:"",id:""}),connected(){this.$mixins.routeEvents.addEventListener("page-change",(e=>{e.detail.category&&(this.category=e.detail.category),e.detail.id&&(this.id=e.detail.id),this.page=e.detail.page}))}}<\/script> </r-main>','<r-home mode="open" extends="article"> <h2>Home</h2> <p>Reacton is a JavaScript library for building applications based on reactive Web Components with server-side rendering capabilities. <a href="https://github.com/reacton-js/reacton" target="_blank">More...</a></p> </r-home>','<r-categories mode="open" extends="article"> <h2>Categories</h2> <ul> <li> <a href="managers/">Managers</a> </li> <li> <a href="designers/">Designers</a> </li> </ul> <style>li+li{margin-top:5px}</style> </r-categories>','<r-list mode="open" extends="article"> <h2>{{ this.$parent.category }}</h2> <style>h2{text-transform:capitalize}select{margin-right:5px}li+li{margin-top:10px}.active{background:#222;color:#fff}</style> Sort by: <select :onchange="userSort(ascending, group = event.target.value)"> <option value="id">ID</option> <option value="name">Name</option> <option value="age">Age</option> </select> <button :class="ascending ? \'active\' : \'\'" :onclick="userSort(ascending = true, group)" title="ascending">↑</button> <button :class="!ascending ? \'active\' : \'\'" :onclick="userSort(ascending = false, group)" title="descending">↓</button> <ul $for="user of users"> <li> <p>ID: {{ user.id }}</p> <p>Name: <a :href="user.id">{{ user.name }}</a></p> <p>Age: {{ user.age }}</p> </li> </ul> <style>li{margin-bottom:20px}p{margin:0;margin-bottom:5px}</style> <script>exports={async data(){const t=await this.$mixins.getJSON(`/categories/${this.$parent.category}`),r=new Intl.Collator;return{users:t,group:"id",ascending:!0,userSort:function(t,s){this.users.sort(((e,a)=>t?r.compare(e[s],a[s]):r.compare(a[s],e[s])))}}}}<\/script> </r-list>','<r-worker mode="open" extends="article"> <h2>{{ this.$parent.category.slice(0, -1) }}</h2> <div> <p>ID: {{ user.id }}</p> <p>Name: {{ user.name }}</p> <p>Age: {{ user.age }}</p> <p>Email: {{ user.email }}</p> <p>City: {{ user.city }}</p> </div> <style>h2{text-transform:capitalize}p{margin:0;margin-bottom:5px}</style> <script>exports={async data(){return{user:await this.$mixins.getJSON(`/categories/${this.$parent.category}/${this.$parent.id}`)}}}<\/script> </r-worker>','<r-footer mode="open" extends="footer"> <p>© 2022-{{ new Date().getFullYear() }} | <a href="https://github.com/reacton-js" target="_blank">github.com/reacton-js</a></p> <style>:host{margin-top:auto;padding:0 20px;border-top:1px solid #222}</style> </r-footer>'])}()}();